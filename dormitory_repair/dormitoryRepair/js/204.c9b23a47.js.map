{"version":3,"file":"js/204.c9b23a47.js","mappings":"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","sources":["webpack://dormitory_repair/./src/views/adminPage/area_manage.vue","webpack://dormitory_repair/src/views/adminPage/area_manage.vue","webpack://dormitory_repair/./src/views/adminPage/area_manage.vue?69e0","webpack://dormitory_repair/./src/views/adminPage/area_manage.vue?2fcf"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card_container\"},[_c('el-card',[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('div',{staticClass:\"area_header\"},[_vm._v(\"  宿舍区域管理\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\",\"overflow-y\":\"auto\"},attrs:{\"data\":_vm.buildings,\"height\":\"650\",\"row-key\":\"key\",\"header-cell-style\":{ background: 'rgb(248,249,250)', color: 'rgb(85,85,85)' },\"border\":\"\",\"tree-props\":{children: 'children', hasChildren: 'hasChildren'}}},[_c('el-table-column',{attrs:{\"prop\":\"genArea\",\"label\":\"苑区\",\"sortable\":\"\",\"width\":\"220\"}}),_c('el-table-column',{attrs:{\"prop\":\"area\",\"label\":\"宿舍楼号\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"middle\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_vm._v(\"修改名称\")]),(scope.row['genArea'])?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"middle\"},on:{\"click\":function($event){return _vm.add(scope.row)}}},[_vm._v(\"新增楼栋\")]):_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"middle\"},on:{\"click\":function($event){return _vm.remove(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 25, 50, 100, 200],\"page-size\":_vm.pageSize,\"layout\":\"total,   prev, pager, next, jumper\",\"total\":_vm.buildings.length},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"card_container\">\r\n    <el-card>\r\n      <el-tabs type=\"border-card\" >\r\n          <div class=\"area_header\">&nbsp;&nbsp;宿舍区域管理</div>\r\n          <!-- <el-row style=\"margin: 20px 10px;width: 60%;display: flex;\">\r\n          <el-col :span=\"8\" >\r\n              <span>姓名：</span>\r\n            <el-select v-model=\"filterAddress\" placeholder=\"请选择\" @change=\"filterChange\">\r\n                <el-option\r\n                  v-for=\"item in address_options\"\r\n                  :key=\"item.filterAddress\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.filterAddress\">\r\n                </el-option>\r\n              </el-select> \r\n              </el-col>\r\n                <el-button type=\"primary\" round style=\"width: 10%;\">查询</el-button>\r\n        </el-row> -->\r\n        <el-table v-loading=\"loading\"\r\n      :data=\"buildings\"\r\n      height=\"650\"\r\n      style=\"width: 100%; overflow-y: auto; \"\r\n      row-key=\"key\"\r\n      :header-cell-style=\"{ background: 'rgb(248,249,250)', color: 'rgb(85,85,85)' }\"\r\n      border\r\n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\r\n      <el-table-column\r\n        prop=\"genArea\"\r\n        label=\"苑区\"\r\n        sortable\r\n        width=\"220\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"area\"\r\n        label=\"宿舍楼号\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"操作\"\r\n          width=\"350\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"edit(scope.row)\"  type=\"primary\" size=\"middle\">修改名称</el-button>\r\n            <el-button @click=\"add(scope.row)\" v-if=\"scope.row['genArea']\" type=\"success\" size=\"middle\">新增楼栋</el-button>\r\n            <el-button @click=\"remove(scope.row)\" v-else type=\"danger\" size=\"middle\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n    </el-table>\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[10, 25, 50, 100, 200]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total,   prev, pager, next, jumper\"\r\n          :total=\"buildings.length\"\r\n        ></el-pagination>\r\n\r\n      </el-tabs>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\n    export default {\r\n      data() {\r\n        return {\r\n          address_options:[],\r\n          filterAddress: '南苑',\r\n          bian:true, \r\n          pageSize:20,\r\n          currentPage:1,\r\n          buildings: [],\r\n          loading: true\r\n        }\r\n      },\r\n      mounted() {\r\n        this.getAllArea();\r\n        \r\n      },\r\n      methods: {\r\n        async getAllArea(){\r\n          this.loading = true;\r\n          await this.$axios.get('/area/getAllArea').then((res) => {\r\n            this.buildings = res.data;\r\n            this.loading = false;\r\n          })\r\n        },\r\n        filterChange(){\r\n          if(this.filterCollege==='全部'){\r\n              this.tableData=this.AllTableData;\r\n          }\r\n          if(this.filterCollege==='已维修'){\r\n              this.tableData=this.PassedTableData;\r\n          }\r\n          if(this.filterCollege==='待维修'){\r\n              this.tableData=this.RepairTableData;\r\n          }\r\n        },\r\n        handleClick(row) {\r\n          console.log(row);\r\n        },\r\n        handleSizeChange (size) {\r\n          console.log(size, 'size');\r\n          this.pageSize = size;\r\n          console.log(this.pageSize);\r\n        },\r\n        handleCurrentChange (currentPage) {\r\n          this.currentPage = currentPage;\r\n        },\r\n        edit(row) {\r\n          this.$prompt('请输入修改后的名称', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n          }).then(({ value }) => {\r\n            if (value.length > 8){\r\n              this.$message.error(\"输入字符不能超过8个！\");\r\n              return;\r\n            }\r\n            this.$axios.post(`/area/changeName?key=${row.key}&name=${value}`).then((res) => {\r\n              if (res.data.code == 200){\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '修改成功！'\r\n                });\r\n                this.getAllArea();\r\n              } else {\r\n                this.$message({\r\n                  type: 'error',\r\n                  message: res.data.message\r\n                });  \r\n              }\r\n              return;\r\n            })\r\n\r\n          }).catch(() => {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '取消输入'\r\n            });       \r\n          });\r\n        },\r\n        add(row){\r\n          console.log(row);\r\n          this.$prompt(`请输入在“${row.genArea}”增加的楼栋的名称（例如：1栋、2栋等）`, '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n          }).then(({ value }) => {\r\n            if (value.length > 8){\r\n              this.$message.error(\"输入字符不能超过8个！\");\r\n              return;\r\n            }\r\n            this.$axios.post(`/area/addArea?name=${value}&key=${row.key}`).then((res) => {\r\n              if (res.data.code == 200){\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '修改成功！'\r\n                });\r\n                this.getAllArea();\r\n              } else {\r\n                this.$message({\r\n                  type: 'error',\r\n                  message: res.data.message\r\n                });  \r\n              }\r\n              return;\r\n            })\r\n\r\n          }).catch(() => {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '取消输入'\r\n            });       \r\n          });\r\n        },\r\n        remove(row) {\r\n          console.log(row);\r\n          this.$confirm('确定要删除这一楼栋信息吗？', '确认信息', {\r\n            distinguishCancelAndClose: true,\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消'\r\n          })\r\n          .then(() => {\r\n            this.$axios.post(`/area/delArea?key=${row.key}`).then((res) => {\r\n              if (res.data.code == 200){\r\n                this.$message.success(\"删除成功！\");\r\n                this.getAllArea();\r\n              } else {\r\n                this.$message.error(\"删除失败！\");\r\n              }\r\n              return;\r\n            })\r\n          })\r\n          .catch(action => {\r\n            this.$message({\r\n              type: 'info',\r\n              message: '已取消删除'\r\n            })\r\n          });\r\n        },\r\n      },\r\n    }\r\n  </script>\r\n<style scoped>\r\n.area_header{\r\n    border-left: 7px solid rgb(228, 70, 49) ;\r\n    font-size: large;\r\n    font-weight: 500;\r\n    margin-bottom: 20px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./area_manage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./area_manage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./area_manage.vue?vue&type=template&id=6cc0b541&scoped=true\"\nimport script from \"./area_manage.vue?vue&type=script&lang=js\"\nexport * from \"./area_manage.vue?vue&type=script&lang=js\"\nimport style0 from \"./area_manage.vue?vue&type=style&index=0&id=6cc0b541&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cc0b541\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","loading","expression","staticStyle","buildings","background","color","children","hasChildren","scopedSlots","_u","key","fn","scope","on","$event","edit","row","add","remove","currentPage","pageSize","length","handleSizeChange","handleCurrentChange","staticRenderFns","data","address_options","filterAddress","bian","mounted","getAllArea","methods","$axios","get","then","res","filterChange","filterCollege","tableData","AllTableData","PassedTableData","RepairTableData","handleClick","console","log","size","$prompt","confirmButtonText","cancelButtonText","$message","error","post","code","type","message","catch","genArea","$confirm","distinguishCancelAndClose","success","action","component"],"sourceRoot":""}