{"version":3,"file":"js/45.35bba584.js","mappings":"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","sources":["webpack://dormitory_repair/./src/views/studentPage/repair.vue","webpack://dormitory_repair/src/views/studentPage/repair.vue","webpack://dormitory_repair/./src/views/studentPage/repair.vue?056a","webpack://dormitory_repair/./src/views/studentPage/repair.vue?5304"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"repair-apply-container\"},[_c('div',{staticClass:\"app-header\"},[_c('div',{staticClass:\"header-content\"},[_c('div',{staticClass:\"return-button\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"el-icon-arrow-left\"})]),_c('h1',{staticClass:\"page-title\"},[_vm._v(\"我要报修\")])])]),_c('div',{staticClass:\"form-container\"},[_c('div',{staticClass:\"form-section\"},[_vm._m(0),_c('el-card',{staticClass:\"form-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"form-item\"},[_c('label',{staticClass:\"form-label\"},[_c('i',{staticClass:\"el-icon-office-building label-icon\"}),_vm._v(\" 报修苑区 \")]),_c('el-select',{staticClass:\"form-select\",class:{ 'error-border': _vm.showError.gardenDistrict },attrs:{\"placeholder\":\"请选择苑区\"},on:{\"change\":_vm.getBuildings},model:{value:(_vm.upload_list.gardenDistrictValue),callback:function ($$v) {_vm.$set(_vm.upload_list, \"gardenDistrictValue\", $$v)},expression:\"upload_list.gardenDistrictValue\"}},_vm._l((_vm.gardenDistrict),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.area,\"value\":item.key}})}),1)],1),_c('div',{staticClass:\"form-item\"},[_c('label',{staticClass:\"form-label\"},[_c('i',{staticClass:\"el-icon-school label-icon\"}),_vm._v(\" 报修楼栋 \")]),_c('el-select',{staticClass:\"form-select\",class:{ 'error-border': _vm.showError.building },attrs:{\"placeholder\":\"请先选择苑区\",\"disabled\":!_vm.upload_list.gardenDistrictValue},model:{value:(_vm.upload_list.buildingValue),callback:function ($$v) {_vm.$set(_vm.upload_list, \"buildingValue\", $$v)},expression:\"upload_list.buildingValue\"}},_vm._l((_vm.buildings),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.area,\"value\":item.key}})}),1)],1),_c('div',{staticClass:\"form-item\"},[_c('label',{staticClass:\"form-label\"},[_c('i',{staticClass:\"el-icon-house label-icon\"}),_vm._v(\" 报修寝室 \")]),_c('el-input',{staticClass:\"form-input\",class:{ 'error-border': _vm.showError.room },attrs:{\"placeholder\":\"请输入寝室号（如101）\"},on:{\"blur\":_vm.validateRoom,\"input\":_vm.sanitizeRoomInput},model:{value:(_vm.upload_list.room),callback:function ($$v) {_vm.$set(_vm.upload_list, \"room\", $$v)},expression:\"upload_list.room\"}}),(_vm.showError.room)?_c('div',{staticClass:\"error-message\"},[_vm._v(\" 寝室号格式不正确 \")]):_vm._e()],1)])],1),_c('div',{staticClass:\"form-section\"},[_vm._m(1),_c('el-card',{staticClass:\"form-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"form-item\"},[_c('label',{staticClass:\"form-label\"},[_c('i',{staticClass:\"el-icon-user-solid label-icon\"}),_vm._v(\" 报修人 \")]),_c('el-input',{staticClass:\"form-input\",class:{ 'error-border': _vm.showError.name },attrs:{\"placeholder\":\"请输入真实姓名\"},on:{\"focus\":function($event){return _vm.clearError('name')}},model:{value:(_vm.upload_list.name),callback:function ($$v) {_vm.$set(_vm.upload_list, \"name\", $$v)},expression:\"upload_list.name\"}})],1),_c('div',{staticClass:\"form-item\"},[_c('label',{staticClass:\"form-label\"},[_c('i',{staticClass:\"el-icon-mobile-phone label-icon\"}),_vm._v(\" 手机号 \")]),_c('el-input',{staticClass:\"form-input\",class:{ 'error-border': _vm.showError.phone },attrs:{\"placeholder\":\"请输入真实手机号\",\"maxlength\":\"11\"},on:{\"blur\":_vm.validatePhone,\"input\":_vm.sanitizePhoneInput},model:{value:(_vm.upload_list.phone),callback:function ($$v) {_vm.$set(_vm.upload_list, \"phone\", $$v)},expression:\"upload_list.phone\"}}),(_vm.showError.phone)?_c('div',{staticClass:\"error-message\"},[_vm._v(\" 手机号格式不正确，应为11位数字且以1开头 \")]):_vm._e()],1)])],1),_c('div',{staticClass:\"form-section\"},[_vm._m(2),_c('el-card',{staticClass:\"form-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"form-item\"},[_c('label',{staticClass:\"form-label\"},[_c('i',{staticClass:\"el-icon-collection-tag label-icon\"}),_vm._v(\" 报修类型 \")]),_c('el-select',{staticClass:\"form-select\",class:{ 'error-border': _vm.showError.kindValue },attrs:{\"placeholder\":\"请选择报修类型\"},model:{value:(_vm.upload_list.kindValue),callback:function ($$v) {_vm.$set(_vm.upload_list, \"kindValue\", $$v)},expression:\"upload_list.kindValue\"}},_vm._l((_vm.kind),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('div',{staticClass:\"form-item\"},[_c('el-input',{staticClass:\"form-textarea\",class:{ 'error-border': _vm.showError.textarea },attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请详细描述报修问题（如：空调不制冷、水管漏水等）\",\"maxlength\":\"250\",\"show-word-limit\":\"\"},on:{\"focus\":function($event){return _vm.clearError('textarea')}},model:{value:(_vm.upload_list.textarea),callback:function ($$v) {_vm.$set(_vm.upload_list, \"textarea\", $$v)},expression:\"upload_list.textarea\"}}),_c('div',{staticClass:\"form-tips\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 请填写真实准确的报修详情 \")])],1)])],1),_c('div',{staticClass:\"form-section\"},[_vm._m(3),_c('el-card',{staticClass:\"form-card\",attrs:{\"shadow\":\"hover\"}},[_c('el-upload',{staticClass:\"image-uploader\",attrs:{\"http-request\":_vm.upload,\"action\":\"#\",\"accppet\":\".jpg,.png,.jpeg,.gif,.bmp,webp,svg\",\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileList,\"limit\":4,\"before-upload\":_vm.beforeUploadImg,\"on-exceed\":_vm.handleExceed}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('div',{staticClass:\"upload-tips\"},[_vm._v(\"上传图片\")])]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"width\":\"90%\",\"top\":\"5vh\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.nowImageUrl,\"alt\":\"报修问题图片\"}})])],1)],1),_c('div',{staticClass:\"submit-section\"},[_c('el-button',{staticClass:\"submit-button\",attrs:{\"type\":\"primary\",\"loading\":_vm.submitting},on:{\"click\":_vm.submit}},[_c('i',{staticClass:\"el-icon-upload2\"}),_vm._v(\" 提交报修申请 \")])],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section-header\"},[_c('i',{staticClass:\"el-icon-location-outline section-icon\"}),_c('h2',[_vm._v(\"报修区域\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section-header\"},[_c('i',{staticClass:\"el-icon-user section-icon\"}),_c('h2',[_vm._v(\"报修人信息\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section-header\"},[_c('i',{staticClass:\"el-icon-tickets section-icon\"}),_c('h2',[_vm._v(\"报修详情\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"section-header\"},[_c('i',{staticClass:\"el-icon-picture-outline section-icon\"}),_c('h2',[_vm._v(\"问题图片（选填）\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"repair-apply-container\">\r\n    <!-- 顶部导航栏 -->\r\n    <div class=\"app-header\">\r\n      <div class=\"header-content\">\r\n        <div class=\"return-button\" @click=\"back\">\r\n          <i class=\"el-icon-arrow-left\"></i>\r\n        </div>\r\n        <h1 class=\"page-title\">我要报修</h1>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 表单内容区域 -->\r\n    <div class=\"form-container\">\r\n      <!-- 报修区域 -->\r\n      <div class=\"form-section\">\r\n        <div class=\"section-header\">\r\n          <i class=\"el-icon-location-outline section-icon\"></i>\r\n          <h2>报修区域</h2>\r\n        </div>\r\n        \r\n        <el-card class=\"form-card\" shadow=\"hover\">\r\n          <div class=\"form-item\">\r\n            <label class=\"form-label\">\r\n              <i class=\"el-icon-office-building label-icon\"></i>\r\n              报修苑区\r\n            </label>\r\n            <el-select \r\n              v-model=\"upload_list.gardenDistrictValue\" \r\n              placeholder=\"请选择苑区\"\r\n              class=\"form-select\"\r\n              @change=\"getBuildings\"\r\n              :class=\"{ 'error-border': showError.gardenDistrict }\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in gardenDistrict\"\r\n                :key=\"item.key\"\r\n                :label=\"item.area\"\r\n                :value=\"item.key\">\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n          \r\n          <div class=\"form-item\">\r\n            <label class=\"form-label\">\r\n              <i class=\"el-icon-school label-icon\"></i>\r\n              报修楼栋\r\n            </label>\r\n            <el-select \r\n              v-model=\"upload_list.buildingValue\" \r\n              placeholder=\"请先选择苑区\"\r\n              class=\"form-select\"\r\n              :disabled=\"!upload_list.gardenDistrictValue\"\r\n              :class=\"{ 'error-border': showError.building }\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in buildings\"\r\n                :key=\"item.key\"\r\n                :label=\"item.area\"\r\n                :value=\"item.key\">\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n          \r\n          <div class=\"form-item\">\r\n            <label class=\"form-label\">\r\n              <i class=\"el-icon-house label-icon\"></i>\r\n              报修寝室\r\n            </label>\r\n            <el-input \r\n              v-model=\"upload_list.room\" \r\n              placeholder=\"请输入寝室号（如101）\"\r\n              class=\"form-input\"\r\n              :class=\"{ 'error-border': showError.room }\"\r\n              @blur=\"validateRoom\"\r\n              @input=\"sanitizeRoomInput\"\r\n            ></el-input>\r\n            <div v-if=\"showError.room\" class=\"error-message\">\r\n              寝室号格式不正确\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n\r\n      <!-- 报修人信息 -->\r\n      <div class=\"form-section\">\r\n        <div class=\"section-header\">\r\n          <i class=\"el-icon-user section-icon\"></i>\r\n          <h2>报修人信息</h2>\r\n        </div>\r\n        \r\n        <el-card class=\"form-card\" shadow=\"hover\">\r\n          <div class=\"form-item\">\r\n            <label class=\"form-label\">\r\n              <i class=\"el-icon-user-solid label-icon\"></i>\r\n              报修人\r\n            </label>\r\n            <el-input \r\n              v-model=\"upload_list.name\" \r\n              placeholder=\"请输入真实姓名\"\r\n              class=\"form-input\"\r\n              :class=\"{ 'error-border': showError.name }\"\r\n              @focus=\"clearError('name')\"\r\n            ></el-input>\r\n          </div>\r\n          \r\n          <div class=\"form-item\">\r\n            <label class=\"form-label\">\r\n              <i class=\"el-icon-mobile-phone label-icon\"></i>\r\n              手机号\r\n            </label>\r\n            <el-input \r\n              v-model=\"upload_list.phone\" \r\n              placeholder=\"请输入真实手机号\"\r\n              class=\"form-input\"\r\n              :class=\"{ 'error-border': showError.phone }\"\r\n              @blur=\"validatePhone\"\r\n              @input=\"sanitizePhoneInput\"\r\n              maxlength=\"11\"\r\n            ></el-input>\r\n            <div v-if=\"showError.phone\" class=\"error-message\">\r\n              手机号格式不正确，应为11位数字且以1开头\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n\r\n      <!-- 报修详情 -->\r\n      <div class=\"form-section\">\r\n        <div class=\"section-header\">\r\n          <i class=\"el-icon-tickets section-icon\"></i>\r\n          <h2>报修详情</h2>\r\n        </div>\r\n        \r\n        <el-card class=\"form-card\" shadow=\"hover\">\r\n          <div class=\"form-item\">\r\n            <label class=\"form-label\">\r\n              <i class=\"el-icon-collection-tag label-icon\"></i>\r\n              报修类型\r\n            </label>\r\n            <el-select \r\n              v-model=\"upload_list.kindValue\" \r\n              placeholder=\"请选择报修类型\"\r\n              class=\"form-select\"\r\n              :class=\"{ 'error-border': showError.kindValue }\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in kind\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n          \r\n          <div class=\"form-item\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"4\"\r\n            placeholder=\"请详细描述报修问题（如：空调不制冷、水管漏水等）\"\r\n            v-model=\"upload_list.textarea\"\r\n            class=\"form-textarea\"\r\n            :class=\"{ 'error-border': showError.textarea }\"\r\n            @focus=\"clearError('textarea')\"\r\n            maxlength=\"250\"\r\n            show-word-limit\r\n          ></el-input>\r\n            <div class=\"form-tips\">\r\n              <i class=\"el-icon-warning-outline\"></i> 请填写真实准确的报修详情\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n\r\n      <!-- 图片上传 -->\r\n      <div class=\"form-section\">\r\n        <div class=\"section-header\">\r\n          <i class=\"el-icon-picture-outline section-icon\"></i>\r\n          <h2>问题图片（选填）</h2>\r\n        </div>\r\n        \r\n        <el-card class=\"form-card\" shadow=\"hover\">\r\n          <el-upload\r\n            :http-request=\"upload\"\r\n            action=\"#\"\r\n            accppet=\".jpg,.png,.jpeg,.gif,.bmp,webp,svg\"\r\n            list-type=\"picture-card\"\r\n            :on-preview=\"handlePictureCardPreview\"\r\n            :on-remove=\"handleRemove\"\r\n            :file-list=\"fileList\"\r\n            :limit=\"4\"\r\n            :before-upload=\"beforeUploadImg\"\r\n            :on-exceed=\"handleExceed\"\r\n            class=\"image-uploader\"\r\n          >\r\n            <i class=\"el-icon-plus\"></i>\r\n            <div class=\"upload-tips\">上传图片</div>\r\n          </el-upload>\r\n          \r\n          <el-dialog :visible.sync=\"dialogVisible\" width=\"90%\" top=\"5vh\">\r\n            <img width=\"100%\" :src=\"nowImageUrl\" alt=\"报修问题图片\">\r\n          </el-dialog>\r\n        </el-card>\r\n      </div>\r\n\r\n      <!-- 提交按钮 -->\r\n      <div class=\"submit-section\">\r\n        <el-button \r\n          type=\"primary\" \r\n          class=\"submit-button\"\r\n          @click=\"submit\"\r\n          :loading=\"submitting\"\r\n        >\r\n          <i class=\"el-icon-upload2\"></i> 提交报修申请\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { on } from 'process';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      gardenDistrict: [],\r\n      buildings: [],\r\n      kind: [\r\n        { value: '1', label: \"空调维修\" },\r\n        { value: '2', label: \"热水维修\" },\r\n        { value: '3', label: \"网络维修\" },\r\n        { value: '4', label: \"其它维修\" }\r\n      ],\r\n      upload_list: {\r\n        gardenDistrictValue: '',\r\n        buildingValue: '',\r\n        room: '',\r\n        name: '',\r\n        phone: '',\r\n        kindValue: '',\r\n        textarea: '',\r\n        dialogImageUrl: [],\r\n        uuid: ''\r\n      },\r\n      fileUrlMap: {} ,// 新增：存储文件UID和URL的映射\r\n      dialogVisible: false,\r\n      nowImageUrl: '',\r\n      fileList: [],\r\n      submitting: false,\r\n      showError: {\r\n        gardenDistrict: false,\r\n        building: false,\r\n        room: false,\r\n        name: false,\r\n        phone: false,\r\n        kindValue: false,\r\n        textarea: false\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$axios.get(\"/area/getGeneral\").then((res) => {\r\n      this.gardenDistrict = res.data;\r\n    })\r\n  },\r\n  methods: {\r\n    // 优化手机号输入处理\r\n    sanitizePhoneInput() {\r\n      // 只允许输入数字\r\n      this.upload_list.phone = this.upload_list.phone.replace(/\\D/g, '');\r\n      // 自动清除错误状态\r\n      if (this.showError.phone) this.validatePhone();\r\n    },\r\n    \r\n    // 优化寝室号输入处理\r\n    sanitizeRoomInput() {\r\n      // 只允许输入数字\r\n      this.upload_list.room = this.upload_list.room.replace(/\\D/g, '');\r\n      // 自动清除错误状态\r\n      if (this.showError.room) this.validateRoom();\r\n    },\r\n    \r\n    // 验证手机号格式\r\n    validatePhone() {\r\n      const phone = this.upload_list.phone;\r\n      if (!phone) {\r\n        this.showError.phone = true;\r\n        return false;\r\n      }\r\n      \r\n      // 手机号正则：11位数字，以1开头\r\n      const phoneRegex = /^1[3-9]\\d{9}$/;\r\n      this.showError.phone = !phoneRegex.test(phone);\r\n      return !this.showError.phone;\r\n    },\r\n    \r\n    // 验证寝室号格式\r\n    validateRoom() {\r\n      const room = this.upload_list.room;\r\n      if (!room) {\r\n        this.showError.room = true;\r\n        return false;\r\n      }\r\n      \r\n      // 寝室号正则：3-4位数字，不能以0开头\r\n      const roomRegex = /^\\d{3,4}$/;\r\n      this.showError.room = !roomRegex.test(room);\r\n      return !this.showError.room;\r\n    },\r\n    \r\n    upload(params) {\r\n      const formData = new FormData();\r\n      formData.append('file', params.file);\r\n      formData.append('uid', params.file.uid);\r\n\r\n      this.$axios.post('http://parliy.com:83/api/student/uploadImg', formData, {\r\n        // this.$axios.post('http://localhost:8088/student/uploadImg', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      }).then(response => {\r\n        this.upload_list.dialogImageUrl.push(response.data.data);\r\n        this.fileUrlMap[params.file.uid] = response.data.data;\r\n        this.$message.success('图片上传成功');\r\n      }).catch(error => {\r\n        this.$message.error('图片上传失败');\r\n      });\r\n    },\r\n    // handleSuccess(response,file) {\r\n    //   this.upload_list.dialogImageUrl.push(response.data);\r\n    //     // 建立UID和URL的映射关系\r\n    //   console.log(this.fileUrlMap);\r\n    // },\r\n     handleRemove(file) {\r\n        try {\r\n            // 安全检查\r\n            if (!this.upload_list || !this.upload_list.dialogImageUrl) {\r\n                console.warn('数据未初始化');\r\n                return;\r\n            }\r\n            \r\n            // 通过映射找到对应的URL\r\n            const imageUrl = this.fileUrlMap[file.uid];\r\n            if (!imageUrl) {\r\n                console.warn('未找到对应文件的URL映射');\r\n                return;\r\n            }\r\n            \r\n            // 在数组中查找并移除对应的URL\r\n            const imageIndex = this.upload_list.dialogImageUrl.findIndex(url => \r\n                url === imageUrl\r\n            );\r\n            \r\n            if (imageIndex !== -1) {\r\n                this.upload_list.dialogImageUrl.splice(imageIndex, 1);\r\n                \r\n                // 同时从映射中删除\r\n                delete this.fileUrlMap[file.uid];\r\n                \r\n                this.$message.success('图片已移除');\r\n            } else {\r\n                console.warn('未在列表中找到对应的图片URL');\r\n            }\r\n            \r\n        } catch (error) {\r\n            console.error('移除图片时发生错误:', error);\r\n            this.$message.error('移除图片失败');\r\n        }\r\n    },\r\n//   handleRemove(file) {\r\n//     try {\r\n//         if (!this.upload_list || !this.upload_list.dialogImageUrl) {\r\n//             return;\r\n//         }\r\n        \r\n//         const imageUrl = this.fileUrlMap[file.uid];\r\n//         if (!imageUrl) {\r\n//             console.warn('未找到对应文件的URL映射');\r\n//             return;\r\n//         }\r\n        \r\n//         // 简单地从URL中提取文件名（假设URL格式为 http://xxx.com/images/文件名.jpg）\r\n//         const fileName = imageUrl.split('/').pop();\r\n        \r\n//         if (!fileName) {\r\n//             this.$message.error('无法解析文件名');\r\n//             return;\r\n//         }\r\n        \r\n//         // 调用后端删除\r\n//         this.$axios.delete(`http://parliy.com:83/api/student/deleteImg?fileName=${fileName}`)\r\n//             .then(response => {\r\n//                 if (response.data.code === 200) {\r\n//                     const imageIndex = this.upload_list.dialogImageUrl.findIndex(url => \r\n//                         url === imageUrl\r\n//                     );\r\n                    \r\n//                     if (imageIndex !== -1) {\r\n//                         this.upload_list.dialogImageUrl.splice(imageIndex, 1);\r\n//                         delete this.fileUrlMap[file.uid];\r\n//                         this.$message.success('图片删除成功');\r\n//                     }\r\n//                 } else {\r\n//                     this.$message.error('删除失败');\r\n//                 }\r\n//             })\r\n//             .catch(error => {\r\n//                 console.error('删除接口调用失败:', error);\r\n//                 this.$message.error('删除失败');\r\n//             });\r\n            \r\n//     } catch (error) {\r\n//         console.error('移除图片时发生错误:', error);\r\n//         this.$message.error('移除图片失败');\r\n//     }\r\n// },\r\n    handlePictureCardPreview(file) {\r\n      this.nowImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    handleExceed() {\r\n      this.$message.warning('最多只能上传4张图片');\r\n    },\r\n    back() {\r\n      this.$router.push({ path: '/stu/index' });\r\n    },\r\n    clearError(field) {\r\n      this.showError[field] = false;\r\n    },\r\n       // 上传  文件，只能是图片\r\n        beforeUploadImg(file) {\r\n          const fileSuffix = file.name.substring(file.name.lastIndexOf(\".\") + 1);\r\n          const whiteList = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"bmp\", \"webp\", \"svg\"];\r\n          if (whiteList.indexOf(fileSuffix) === -1) {\r\n            this.$message({\r\n              message: '上传文件只能是图片',\r\n              type: 'error',\r\n              center: true\r\n            });\r\n            return false;\r\n          }\r\n        },\r\n    validateForm() {\r\n      let isValid = true;\r\n      const requiredFields = [\r\n        'gardenDistrictValue', 'buildingValue', 'room', \r\n        'name', 'phone', 'kindValue', 'textarea'\r\n      ];\r\n      \r\n      // 验证必填项\r\n      requiredFields.forEach(field => {\r\n        if (!this.upload_list[field]) {\r\n          this.showError[field] = true;\r\n          isValid = false;\r\n        } else {\r\n          this.showError[field] = false;\r\n        }\r\n      });\r\n      \r\n      // 单独验证手机号和寝室号格式\r\n      if (!this.validatePhone()) isValid = false;\r\n      if (!this.validateRoom()) isValid = false;\r\n      \r\n      return isValid;\r\n    },\r\n    submit() {\r\n      if (!this.validateForm()) {\r\n        this.$message.error('请填写完整且格式正确的信息');\r\n        return;\r\n      }\r\n\r\n      this.submitting = true;\r\n      this.upload_list.uuid = localStorage.getItem('dormitory_repair_userId');\r\n      \r\n      this.$axios.post(`/student/submit`, this.upload_list)\r\n        .then(() => {\r\n          this.$message.success('报修申请提交成功');\r\n          // 重置表单\r\n          Object.keys(this.upload_list).forEach(key => {\r\n            if (key !== 'dialogImageUrl') {\r\n              this.upload_list[key] = '';\r\n            }\r\n          });\r\n          this.upload_list.dialogImageUrl = [];\r\n          this.fileList = [];\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n          this.$message.error('提交失败，请稍后重试');\r\n        })\r\n        .finally(() => {\r\n          this.submitting = false;\r\n        });\r\n    },\r\n    getBuildings() {\r\n      this.$axios.get(`/area/getBuildings?key=${this.upload_list.gardenDistrictValue}`)\r\n        .then((res) => {\r\n          this.buildings = res.data;\r\n          this.upload_list.buildingValue = '';\r\n        });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.repair-apply-container {\r\n  min-height: 100vh;\r\n  background: #f5f7fa;\r\n  font-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;\r\n  padding-bottom: 30px;\r\n}\r\n\r\n/* 顶部导航栏样式 */\r\n.app-header {\r\n  background: linear-gradient(135deg, #409EFF 0%, #337ecc 100%);\r\n  padding: 15px 0;\r\n  box-shadow: 0 4px 12px rgba(64, 158, 255, 0.2);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.header-content {\r\n  display: flex;\r\n  align-items: center;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n  position: relative;\r\n}\r\n\r\n.return-button {\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.return-button:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  transform: translateX(-3px);\r\n}\r\n\r\n.return-button i {\r\n  font-size: 22px;\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n\r\n.page-title {\r\n  flex: 1;\r\n  text-align: center;\r\n  color: white;\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  margin: 0;\r\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\r\n  padding-right: 40px;\r\n}\r\n\r\n/* 表单容器样式 */\r\n.form-container {\r\n  max-width: 800px;\r\n  margin: 20px auto;\r\n  padding: 0 15px;\r\n}\r\n\r\n/* 表单区块样式 */\r\n.form-section {\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding-left: 10px;\r\n}\r\n\r\n.section-icon {\r\n  font-size: 24px;\r\n  color: #409EFF;\r\n  margin-right: 12px;\r\n}\r\n\r\n.section-header h2 {\r\n  font-size: 1.2rem;\r\n  color: #303133;\r\n  margin: 0;\r\n  font-weight: 600;\r\n}\r\n\r\n/* 表单卡片样式 */\r\n.form-card {\r\n  border-radius: 12px;\r\n  border: none;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.form-card:hover {\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08) !important;\r\n}\r\n\r\n/* 表单项样式 */\r\n.form-item {\r\n  margin-bottom: 20px;\r\n  position: relative;\r\n}\r\n\r\n.form-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.form-label {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n  font-size: 0.95rem;\r\n  color: #606266;\r\n  font-weight: 500;\r\n}\r\n\r\n.label-icon {\r\n  font-size: 18px;\r\n  margin-right: 8px;\r\n  color: #409EFF;\r\n}\r\n\r\n.form-select, .form-input {\r\n  width: 100%;\r\n}\r\n\r\n.form-textarea {\r\n  width: 100%;\r\n}\r\n\r\n.form-tips {\r\n  font-size: 0.85rem;\r\n  color: #909399;\r\n  margin-top: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.form-tips i {\r\n  margin-right: 5px;\r\n  color: #E6A23C;\r\n}\r\n\r\n/* 图片上传样式 */\r\n.image-uploader {\r\n  text-align: center;\r\n}\r\n\r\n.upload-tips {\r\n  font-size: 0.9rem;\r\n  color: #909399;\r\n  margin-top: 5px;\r\n}\r\n\r\n/* 提交按钮区域 */\r\n.submit-section {\r\n  margin-top: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.submit-button {\r\n  width: 100%;\r\n  max-width: 400px;\r\n  height: 50px;\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  letter-spacing: 2px;\r\n  border-radius: 12px;\r\n  background: linear-gradient(to right, #409EFF, #6a11cb);\r\n  border: none;\r\n  box-shadow: 0 4px 15px rgba(64, 158, 255, 0.3);\r\n  transition: all 0.3s;\r\n}\r\n\r\n.submit-button:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 7px 20px rgba(64, 158, 255, 0.4);\r\n}\r\n\r\n.submit-button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* 错误边框样式 */\r\n.error-border >>> .el-input__inner,\r\n.error-border >>> .el-textarea__inner,\r\n.error-border >>> .el-select .el-input__inner {\r\n  border-color: #F56C6C !important;\r\n}\r\n\r\n/* 错误提示文字样式 */\r\n.error-message {\r\n  color: #F56C6C;\r\n  font-size: 12px;\r\n  margin-top: 5px;\r\n  position: absolute;\r\n  bottom: -20px;\r\n  left: 0;\r\n}\r\n\r\n/* 响应式调整 */\r\n@media (max-width: 600px) {\r\n  .page-title {\r\n    font-size: 1.2rem;\r\n  }\r\n  \r\n  .section-header h2 {\r\n    font-size: 1.1rem;\r\n  }\r\n  \r\n  .form-label {\r\n    font-size: 0.9rem;\r\n  }\r\n  \r\n  .submit-button {\r\n    height: 46px;\r\n    font-size: 1rem;\r\n  }\r\n  \r\n  .error-message {\r\n    font-size: 11px;\r\n    bottom: -18px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .header-content {\r\n    padding: 0 15px;\r\n  }\r\n  \r\n  .return-button {\r\n    width: 36px;\r\n    height: 36px;\r\n  }\r\n  \r\n  .section-header {\r\n    padding-left: 5px;\r\n  }\r\n  \r\n  .section-icon {\r\n    font-size: 20px;\r\n    margin-right: 8px;\r\n  }\r\n}\r\n</style>\r\n\r\n<style>\r\n/* 全局样式调整 */\r\n.image-uploader .el-upload--picture-card {\r\n  width: 100px;\r\n  height: 100px;\r\n  line-height: 110px;\r\n  border: 1px dashed #409EFF;\r\n  background-color: #f0f7ff;\r\n}\r\n\r\n.image-uploader .el-upload--picture-card:hover {\r\n  border-color: #6a11cb;\r\n}\r\n\r\n.image-uploader .el-upload-list__item {\r\n  transition: all 0.3s;\r\n}\r\n\r\n.image-uploader .el-upload-list__item:hover {\r\n  transform: scale(1.03);\r\n}\r\n\r\n.el-dialog__header {\r\n  background: linear-gradient(to right, #409EFF, #6a11cb);\r\n  border-radius: 12px 12px 0 0 !important;\r\n  padding: 15px 20px;\r\n}\r\n\r\n.el-dialog__title {\r\n  color: white !important;\r\n  font-weight: 600 !important;\r\n}\r\n\r\n.el-dialog__headerbtn .el-dialog__close {\r\n  color: white !important;\r\n}\r\n\r\n.el-dialog__body {\r\n  padding: 20px !important;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./repair.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./repair.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./repair.vue?vue&type=template&id=9eb63e58&scoped=true\"\nimport script from \"./repair.vue?vue&type=script&lang=js\"\nexport * from \"./repair.vue?vue&type=script&lang=js\"\nimport style0 from \"./repair.vue?vue&type=style&index=0&id=9eb63e58&prod&scoped=true&lang=css\"\nimport style1 from \"./repair.vue?vue&type=style&index=1&id=9eb63e58&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9eb63e58\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","back","_v","_m","attrs","class","showError","gardenDistrict","getBuildings","model","value","upload_list","gardenDistrictValue","callback","$$v","$set","expression","_l","item","key","area","building","buildingValue","buildings","room","validateRoom","sanitizeRoomInput","_e","name","$event","clearError","phone","validatePhone","sanitizePhoneInput","kindValue","kind","label","textarea","upload","handlePictureCardPreview","handleRemove","fileList","beforeUploadImg","handleExceed","dialogVisible","nowImageUrl","submitting","submit","staticRenderFns","data","dialogImageUrl","uuid","fileUrlMap","mounted","$axios","get","then","res","methods","replace","phoneRegex","test","roomRegex","params","formData","FormData","append","file","uid","post","headers","response","push","$message","success","catch","error","console","warn","imageUrl","imageIndex","findIndex","url","splice","warning","$router","path","field","fileSuffix","substring","lastIndexOf","whiteList","indexOf","message","type","center","validateForm","isValid","requiredFields","forEach","localStorage","getItem","Object","keys","finally","component"],"sourceRoot":""}